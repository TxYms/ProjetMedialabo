<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Patients</title>
  <style>
    :root { --bg:#f7f7fb; --card:#fff; --text:#1f2937; --muted:#6b7280; --accent:#2563eb; --border:#e5e7eb; }
    *{box-sizing:border-box} body{margin:0;font:16px/1.45 system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
    .container{max-width:1100px;margin:32px auto;padding:0 16px}
    .title{margin:0 0 16px;font-weight:700;font-size:28px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:14px;box-shadow:0 2px 10px rgba(0,0,0,.04)}
    .table{width:100%;border-collapse:separate;border-spacing:0}
    .table th,.table td{padding:12px 14px;border-bottom:1px solid var(--border);vertical-align:middle}
    .table thead th{font-size:13px;text-transform:uppercase;letter-spacing:.04em;color:var(--muted);background:#fafafa}
    .table tbody tr:hover{background:#f9fafb}
    .table tbody tr:last-child td{border-bottom:none}
    .badge{display:inline-block;padding:6px 10px;border-radius:9999px;background:#eef2ff;color:#3730a3;font-size:12px}
    .btn-link{color:var(--accent);text-decoration:none;font-weight:600}
    .btn-link:hover{text-decoration:underline}
    .empty{padding:28px;text-align:center;color:var(--muted)}
  </style>
</head>
<body>
  <div class="container">
    <h1 class="title">Patients</h1>

    <div class="card">
      <table class="table">
        <thead>
        <tr>
          <th>Nom</th>
          <th>Prénom</th>
          <th>Date de naissance</th>
          <th>Téléphone</th>
          <th style="text-align:right">Actions</th>
        </tr>
        </thead>

        <tbody>
        <tr th:if="${patients == null or #lists.isEmpty(patients)}">
          <td colspan="5" class="empty">Aucun patient enregistré.</td>
        </tr>

        <tr th:each="p : ${patients}">
          <td th:text="${p.lastName}">Doe</td>
          <td th:text="${p.firstName}">Jane</td>
          <td th:text="${p.birthDate}">1980-01-01</td>
          <td>
            <span class="badge" th:text="${p.phone}">0123456789</span>
          </td>
          <td style="text-align:right">
            <a class="btn-link" th:href="@{/patients/{id}/notes(id=${p.id})}">Notes</a>
			<a class="btn-link" th:href="@{/patients/{id}/risk(id=${p.id})}">Évaluation risque</a>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</body>
</html>